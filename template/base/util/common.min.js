function openLive800Chat(e){var t="https://www.onlineservice-hk.com/k800/chatClient/chatbox.jsp?companyID=209&s=1";e?location.href=t:window.open(t,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}function openQQChatByCommonv3(e,t){common.isBlank(t)&&(t="800018282");var n="http://crm2.qq.com/page/portalpage/wpa.php?uin="+t+"&cref=&ref=&f=1&ty=1&ap=&as="+e;window.open(n,"QQChatindow","height=544, width=644,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}function openQQChatByCommonjs(){var e="http://wpa.b.qq.com/cgi/wpa.php?ln=2&uin=800018282";window.open(e)}function live800Prompt(e){window.onbeforeunload=null;var t="http://wpa.b.qq.com/cgi/wpa.php?ln=2&uin=800018886",n="http://onlinecustomer-service.gwghk.com/live800/chatClient/chatbox.jsp?companyID=283&enterurl=http%3A%2F%2Fwww%2Egwfx%2Ecom%2F&tm=1355377642406";if(2==e)try{UUID.prototype.createUUID();window.open(t,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}catch(e){window.open(t,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}else try{UUID.prototype.createUUID();window.open(n,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}catch(e){window.open(n)}}function qqPrompt(e){var t="http://wpa.b.qq.com/cgi/wpa.php?ln=2&uin=800018886";window.onbeforeunload=null;try{var n=UUID.prototype.createUUID();getGacookiesTrack(n,"2","1"),window.open(t,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}catch(e){window.open(t,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}}var common={daysCN:{0:"星期天",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},clientGroupStr:{vip:"VIP会员",active:"激活会员",notActive:"真实会员",simulate:"模拟会员",register:"注册会员",visitor:"游客"},clientGroup:{vip:"vip",active:"active",notActive:"notActive",real:"real",simulate:"simulate",register:"register",visitor:"visitor"},roleUserType:{visitor:-1,member:0,admin:1,analyst:2,cs:3,navy:4},remove:function(e,t){return!(isNaN(t)||t>e.length)&&void e.splice(t,1)},isLocalHref:function(){return/^https?:\/\/(\d{1,3}\.){3}\d{1,3}.+/.test(window.location.href)},joinSplit:function(e){return",".concat(e).concat(",")},isBlank:function(e){return void 0==e||null==e||"undefined"==e||"null"==e||""==$.trim(e)},isValid:function(e){return!this.isBlank(e)},trim:function(e){return this.isBlank(e)?"":e.toString().replace(/(^\s*)|(\s*$)/g,"")},escapeHtml:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML.replace(/"/g,'\\"')},encodeHtml:function(e){return this.isBlank(e)?"":e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},formatterDate:function(e,t){t||(t="-"),e instanceof Date||(e=new Date(e));var n=e.getFullYear()+t+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+t+(e.getDate()<10?"0"+e.getDate():e.getDate());return n},getHHMMSS:function(e){e instanceof Date||(e=new Date(e));var t=(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds());return t},getMMSS:function(e){return e instanceof Date||(e=new Date(e)),(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},getHHMM:function(e){e instanceof Date||(e=new Date(e));var t=(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());return t},formatterDateTime:function(e,t){if(t||(t="-"),e instanceof Date||(e=new Date(e)),"Invalid Date"==e)return"";var n=e.getFullYear()+t+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+t+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds());return n},longMsTimeToDateTime:function(e,t){var n=new Date(e);return this.formatterDateTime(n,t)},getDaysInMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,1),n=Math.floor((t.getTime()-e.getTime())/864e5)+e.getDate()-1;return n},showBox:function(e,t){$(e).slideDown(),$(t||".layer-shadow").show()},hideBox:function(e,t){$(e).slideUp(),$(t||".layer-shadow").hide()},containSplitStr:function(e,t){return!common.isBlank(e)&&!common.isBlank(t)&&(","+e+",").indexOf(","+t+",")!=-1},getJson:function(e,t,n,r,o){var a=null;return $.ajax({url:e,type:"POST",timeout:1e5,cache:!1,async:void 0!=r?r:!!n,dataType:"json",data:t,success:"function"==typeof n?n:function(e){a=e},error:function(t,n){"function"==typeof o?o(n):common.isValid(t.responseText)&&"OK"!=t.statusText?console.error(t.responseText):console.error("请求超时,请重试:url[%s]",e)}}),a},arraySort:function(e,t){return function(n,r){return t?n[e]<r[e]:n[e]>r[e]}},randomNumber:function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(10*Math.random());return t},isMobilePhone:function(e){return/(^[0-9]{11})$|(^86(-){0,3}[0-9]{11})$/.test(e)},dateTimeWeekCheck:function(e,t,n){if(this.isBlank(e))return!!t;$.isPlainObject(e)||(e=JSON.parse(e));var r=n?new Date(n):new Date,o=!1,a=this.formatterDate(r);if(o=this.isBlank(e.beginDate)||a>=e.beginDate,o&&(o=this.isBlank(e.endDate)||a<=e.endDate),!o)return!1;var s=e.weekTime;if(this.isBlank(s))return o;var i=null,u=null,l=!1;for(var c in s)if(i=s[c],(!this.isValid(i.week)||r.getDay()==parseInt(i.week))&&(u=this.getHHMMSS(r),l=this.isBlank(i.beginTime)||u>=i.beginTime,l&&(l=this.isBlank(i.endTime)||u<=i.endTime),l))break;return l},arrayUnique:function(e){if(!e)return e;for(var t,n=[],r={},o=0;null!=(t=e[o]);o++)r[t]||(n.push(t),r[t]=!0);return n},isWebSocket:function(){return window.WebSocket},getSocket:function(e,t,n){return common.isWebSocket()?(console.log("used websocket!"),e.connect(t.webSocket+"/"+n,{transports:["websocket"]})):e.connect(t.socketIO+"/"+n)},randomNumber:function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(10*Math.random());return t},clearMsgHtml:function(e){var e=e.replace(/((^((&nbsp;)+))|\n|\t|\r)/g,"").replace(/<\/?(?!(img|IMG)\s+src="[^>"]+\/face\/[^>"]+"\s*>)[^>]*>/g,"");return e&&(e=$.trim(e)),e},formatToJson:function(e){return this.isBlank(e)?null:JSON.parse(e)},getSyllabusPlan:function(e,t,n,r){if(!e||!e.courses)return null;var o=function(e,t){if(e&&3!=t){var o,a=common.isMobile();"object"!=typeof e&&(e=JSON.parse(e));for(var s in e)if(o=e[s],a){if(1==t&&(!n&&3==o.code||n&&4==o.code))return o.url}else if(r){if(1==t&&3==o.code){var i=o.url||"";return i=i.replace(/^http:/,"rtmps:").replace(/\/index\.m3u8$/,"")}}else if(o.code==t)return o.url}return null},a=function(t,n,r){var a=null,s=t.course;return s&&s.length>n?(a=s[n],0==a.status||common.isBlank(a.lecturerId)?null:(a.studioLink=o(e.studioLink,a.courseType),a.startTime=t.startTime,a.endTime=t.endTime,a.day=u[n].day,a.isNext=r,a)):null},s=null;s=this.isValid(e.courses)&&"object"!=typeof e.courses?JSON.parse(e.courses):e.courses;for(var i,u=s.days,l=s.timeBuckets,c=(new Date(t).getDay()+6)%7,d=common.getHHMM(t),h=null,p=null,f=0;f<u.length;f++)if(0!=u[f].status)if(i=(u[f].day+6)%7,i>c){for(var m in l)if(h=l[m],p=a(h,f,!0))return p}else if(i==c)for(var m in l)if(h=l[m],h.startTime<=d&&(h.endTime>=d||"00:00"==h.endTime)?p=a(h,f,!1):h.startTime>d&&(p=a(h,f,!0)),p)return p;if(!e.publishEnd)return null;for(var f=0;f<u.length;f++)if(0!=u[f].status&&(i=(u[f].day+6)%7,!(e.publishEnd<864e5*(i+7-c)+t)))for(var m=0;m<l.length;m++)if(p=a(l[m],f,!0))return p;return null},formatSyllabus:function(e,t,n,r){var o={dayCN:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],indexCN:["第一节","第二节","第三节","第四节","第五节","第六节","第七节","第八节"],courseCls:["prev","ing","next"],tableCls:"syllabus",courseType:{0:"文字在线",1:"视频在线",2:"ONE TV"}},a=new Date(t).getDay(),s=this.getHHMM(t),i=$.extend({},o,r),u=function(e,t,n,r){var o=0,u=(e+6)%7,l=(a+6)%7;return o=u>l?2:u<l?0:r?1:n<=s?0:t>s?2:1,i.courseCls[o]},l=[];try{if(e){var c=$.isPlainObject(e)?e:JSON.parse(e),d=c.days?c.days.length:0;if(d>0)if(1===n){var h={0:"文字",1:"视频",2:"oneTV"};l.push('<div class="sy_panel">');var p=t-864e5*((a+6)%7),f=null,m=null,g=null;l.push('<div class="sy_nav">');for(var v=' style="width:'+100/d+'%;"',w=0;w<d;w++)f=new Date(p+(c.days[w].day+6)%7*864e5),m=f.getFullYear()+"-"+(f.getMonth()<9?"0":"")+(f.getMonth()+1)+"-"+(f.getDate()<10?"0":"")+f.getDate(),g=c.days[w].day==a?' class="active"':"",l.push('<a href="javascript:void(0)" d="'+c.days[w].day+'"'+g+v+">"+i.dayCN[c.days[w].day]+"<br/><span>"+m+'</span><em class="dir">^</em></a>');l.push("</div>"),l.push('<div class="sy_cont"><div>'),l.push('<table cellpadding="0" cellspacing="0" border="0" class="'+i.tableCls+'">');for(var b=null,y=null,w=0;w<d;w++){if(l.push('<tbody d="'+c.days[w].day+'">'),0==c.days[w].status)y=u(c.days[w].day,null,null,!0),l.push('<tr class="'+y+'" width="100%"><td>休市</td></tr>');else for(var T=0,D=c.timeBuckets.length;T<D;T++)b=c.timeBuckets[T],y=u(c.days[w].day,b.startTime,b.endTime,!1),0==b.course[w].status?(l.push('<tr class="'+y+'">'),l.push('<td width="25%">'+b.startTime+"-"+b.endTime+"</td>"),l.push('<td colspan="2" width="75%">休市</td>'),l.push("</tr>")):b.course[w].lecturer&&(l.push('<tr class="'+y+'">'),l.push('<td width="25%">'+b.startTime+"-"+b.endTime+"【"+h[b.course[w].courseType]+"】</td>"),l.push('<td width="25%">'+b.course[w].lecturer+"</td>"),l.push('<td width="50%">'+b.course[w].title+"</td>"),l.push("</tr>"));l.push("</tbody>")}l.push("</table>"),l.push("</div></div>"),l.push("</div>")}else if(2===n){l.push('<table cellpadding="0" cellspacing="1" border="0" class="'+i.tableCls+'">'),l.push("<tr>"),l.push("<th>星期\\节次</th>");for(var D=c.timeBuckets?c.timeBuckets.length:0,b=null,y=null,T=0;T<D;T++)b=c.timeBuckets[T],l.push("<th>"+i.indexCN[T]+"<br><span>("+b.startTime+"-"+b.endTime+")</span></th>");l.push("</tr>");for(var k=null,w=0,M=c.days?c.days.length:0;w<M;w++){if(k=c.days[w],l.push("<tr>"),l.push("<th>"+i.dayCN[k.day]+"</th>"),0==k.status)y=u(k.day,null,null,!0),l.push('<td class="'+y+'" colspan="'+D+'">休市</td>');else for(var T=0;T<D;T++)b=c.timeBuckets[T],y=u(k.day,b.startTime,b.endTime,!1),l.push('<td class="'+y+'">'+(0==b.course[w].status?"休市":b.course[w].lecturer)+"</td>");l.push("</tr>")}l.push("</table>")}else if(3===n){var p=s-864e5*((a+6)%7),f=null,g=null,k=null,v=' style="width:'+100/d+'%;"';l.push("<tr>");for(var w=0;w<d;w++)k=c.days[w],f=new Date(p+(c.days[w].day+6)%7*864e5),g=c.days[w].day==a?' class="active"':"",l.push('<th d="'+c.days[w].day+'"'+g+v+">"+i.dayCN[c.days[w].day]+"<i></i></th>");l.push("</tr>"),l.push('<tr><td class="space" colspan="'+d+'"></td></tr>');for(var b=null,y=null,w=0;w<d;w++){if(k=c.days[w],l.push('<tr d="'+k.day+'"><td colspan="'+d+'">'),0==k.status)y=u(k.day,null,null,!0),l.push('<p class="'+y+'">休市</p>');else for(var T=0,D=c.timeBuckets?c.timeBuckets.length:0;T<D;T++)b=c.timeBuckets[T],b.course[w].lecturer&&(y=u(k.day,b.startTime,b.endTime,!1),l.push('<p class="'+y+'">'),l.push("<span>"+b.startTime+"-"+b.endTime+"</span>"),0==b.course[w].status?l.push("<span>休市</span>"):(l.push("<span>"+i.courseType[b.course[w].courseType]+"</span>"),l.push("<span>"+b.course[w].lecturer+"</span>"),l.push('<span class="item">'+b.course[w].title+"</span>")),l.push("</p>"));l.push("</td></tr>")}}}}catch(e){return console.error("formatSyllabus->"+e),""}return l.join("")},isMobile:function(){return/(iphone|ipod|ipad|android|mobile|playbook|bb10|meego)/.test(navigator.userAgent.toLowerCase())},parseInt:function(e){var t;try{t=parseInt(e)}catch(e){console.error(e)}return t},isHTTPS:function(){return/^https:\/\//.test(location.href)},copyObject:function(e,t,n){if(!t)return e;for(var r in e)t.hasOwnProperty(r)&&common.isValid(t[r])&&(e[r]=t[r]);if(n)for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])},isRightName:function(e){return!/^([0-9]{2,10})$/g.test(e)&&/^([\w\u4e00-\u9fa5]{2,10})$/g.test(e)},randomIndex:function(e){var t=parseInt(Math.round(Math.random()*e));return t==e&&(t=e-1),t<0?0:t},saveToDesktop:function(e,t){try{var n=new ActiveXObject("WScript.Shell"),r=n.CreateShortcut(n.SpecialFolders("Desktop")+"\\"+t+".url");r.TargetPath=e,r.Save()}catch(e){return!1}return!0},getUrlParam:function(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(n);if(t){if(null!=r)return r[2]}else if(null!=r)return unescape(r[2]);return null},keysrt:function(e,t){return function(n,r){return t?~~(n[e]<r[e]):~~(n[e]>r[e])}},newsMarquee:function(e,t,n,r,o,a,s){e&&(clearInterval(e),e=null);var i="object"==typeof n?n:$(n),u="object"==typeof r?r[0]:$(r)[0],l="object"==typeof o?o:$(o),c="object"==typeof a?a:$(a);if(s&&l.children().size()>0?i.show():i.hide(),c.html(""),$(u).unbind("mouseover mouseout"),s){l.css("width","auto"),c.css("width","auto");var d=i.width()-27;l.width()<d&&(l.css("width",d),c.css("width",d)),c.html(l.html());var h=function(){l.width()-u.scrollLeft<=0?u.scrollLeft-=l.width():u.scrollLeft++};e=window.setInterval(h,t),$(u).bind("mouseover",function(){window.clearInterval(e),e=null}).bind("mouseout",function(){e&&(window.clearInterval(e),e=null),e=window.setInterval(h,t)})}},placeholderSupport:function(e){e="object"==typeof e?e:$(e);var t="placeholder"in document.createElement("input");t||e.each(function(){var e=$(this).attr("placeholder");if(e){var t=$(this),n=$('<span class="placeholder">'+e+"</span>");t.before(n),n.bind("click",function(){$(this).hide(),$(this).next().focus()}),t.bind("focus",function(){$(this).prev().hide()}),t.bind("blur",function(){""===$(this).val()&&$(this).prev().show()}),""!=t[0].defaultValue&&t.prev().hide(),$(this).attr("placeholder","")}})},openPopup:function(e){e="object"==typeof e?e:$(e),e.show()},isEmail:function(e){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},getDateDiff:function(e,t){var n=new Date(e).getTime(),r=new Date(t).getTime(),o=Math.abs(n-r)/864e5;return o},getHourDiff:function(e,t){var n=new Date(e).getTime(),r=new Date(t).getTime(),o=Math.abs(n-r)/36e5;return o=Math.floor(o)},getMinuteDiff:function(e,t){var n=new Date(e).getTime(),r=new Date(t).getTime(),o=Math.abs(n-r)/6e4;return o=Math.floor(o)},addDate:function(e,t){var n=new Date(e);n.setDate(n.getDate()+t);var r=n.getMonth()+1;return n.getFullYear()+"-"+r+"-"+n.getDate()},getVideoUrl:function(e){for(var t={pc:"",mobile:"",audio:"",oneTV:"",https:""},n=null,r=0,o=e.liveLink?e.liveLink.length:e.liveLink;r<o;r++)switch(n=e.liveLink[r],n.code){case"1":t.pc=n.url||"";break;case"2":t.oneTV=n.url||"";break;case"3":t.mobile=n.url||"",t.https=t.mobile.replace(/^http:/,"rtmps:").replace(/\/index\.m3u8$/,"");break;case"4":t.audio=n.url||""}return t}};window.console||(console=function(){function e(){}function t(){return null==n&&(n=new e),n}var n=null;return e.prototype={log:function(e){},error:function(e){}},t()}()),$.fn.focusEnd=function(){$(this).focus();var e=$("<span/>").appendTo($(this)),t=e.get(0),n=null,r=null;return document.selection?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):window.getSelection&&(n=document.createRange(),n.selectNode(t),r=window.getSelection(),r.removeAllRanges(),r.addRange(n)),e.remove(),this},String.prototype.formatStr=function(){if(0===arguments.length)return this;var e=this,t=function(t,n){n=null==n||void 0==n?"":n,e=e.replace(new RegExp("\\{"+t+"\\}","g"),n)};if(1===arguments.length&&arguments[0].constructor===Object){var n=arguments[0];for(var r in n)t(r,n[r])}else for(var o=0;o<arguments.length;o++)t(o,arguments[o]);return e};